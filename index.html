<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ⴰⵙⴰⴳⵉ ⵏ ⵢⴰⵎⴰⵣⵉⵖ – حاسبة دجاج التسمين</title>

<script src="https://unpkg.com/vue@3/dist/vue.global.prod.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

<style>
body{
  margin:0;
  font-family: system-ui, -apple-system, BlinkMacSystemFont;
  background:#fdfaf5;
  direction:rtl;
}

/* رأس الصفحة */
header{
  background:
    linear-gradient(135deg,#c62828,#f9a825,#1565c0);
  color:white;
  padding:20px;
  text-align:center;
  font-weight:900;
  letter-spacing:1px;
}

/* الحاوية */
.container{
  max-width:820px;
  margin:20px auto;
  background:white;
  border-radius:18px;
  padding:25px;
  box-shadow:0 12px 30px rgba(0,0,0,.15);
}

/* أقسام */
.section{
  border-right:6px solid #f9a825;
  padding:15px;
  margin-bottom:20px;
  background:#fffdf7;
  border-radius:12px;
}

/* مدخلات */
input{
  width:100%;
  padding:12px;
  margin:7px 0;
  border-radius:10px;
  border:1px solid #ccc;
  font-size:15px;
}

/* أزرار */
.buttons{
  display:flex;
  gap:10px;
}

button{
  flex:1;
  padding:14px;
  border:none;
  border-radius:12px;
  font-size:16px;
  font-weight:800;
  color:white;
  cursor:pointer;
}

.calc{
  background:#c62828;
}
.whatif{
  background:#1565c0;
}

/* النتائج */
.result{
  margin-top:20px;
  padding:20px;
  border-radius:14px;
  font-size:22px;
  font-weight:900;
}

.profit{color:#2e7d32;}
.loss{color:#b71c1c;}

.item{
  display:flex;
  align-items:center;
  margin:8px 0;
}
.item i{
  margin-left:10px;
  color:#444;
}

footer{
  margin-top:25px;
  text-align:center;
  font-size:14px;
  font-weight:700;
}
footer span{
  color:#c62828;
}
</style>
</head>

<body>

<header>
ⴰⵙⴰⴳⵉ ⵏ ⵢⴰⵎⴰⵣⵉⵖ  
<br>حاسبة دجاج التسمين
</header>

<div id="app" class="container">

  <div class="section">
    <input v-model.number="priceChick" placeholder="سعر الكتكوت">
    <input v-model.number="numChicks" placeholder="عدد الكتاكيت">
    <input v-model.number="feedPrice" placeholder="سعر العلف للقنطار">
    <input v-model.number="feedUsed" placeholder="كمية العلف (قنطار)">
    <input v-model.number="sellPrice" placeholder="سعر البيع للكيلو">
    <input v-model.number="commission" placeholder="عمولة التاجر / كيلو">
    <input v-model.number="medicine" placeholder="الدواء">
    <input v-model.number="energy" placeholder="ماء / كهرباء / غاز">
    <input v-model.number="bedding" placeholder="الفرشة">
    <input v-model.number="cleaning" placeholder="التنظيف">
    <input v-model.number="deadTotal" placeholder="إجمالي الدجاج الميت">
    <input v-model.number="unsold" placeholder="دجاج غير مباع">
    <input v-model.number="totalWeight" placeholder="الوزن الكلي (كغ)">
  </div>

  <div class="buttons">
    <button class="calc" @click="calculate">
      <i class="fa-solid fa-calculator"></i> احسب
    </button>
    <button class="whatif" @click="whatIf">
      <i class="fa-solid fa-arrows-rotate"></i> ماذا لو؟
    </button>
  </div>

  <div v-if="profit!==null" class="result" :class="profit>=0?'profit':'loss'">
    <div class="item">
      <i class="fa-solid fa-coins"></i>
      {{ profit>=0?'الربح المتوقع':'الخسارة المتوقعة' }}:
      {{ formatMoney(Math.abs(profit)) }}
    </div>
    <div class="item">
      <i class="fa-solid fa-weight-hanging"></i>
      متوسط الوزن:
      {{ (totalWeight/numChicks).toFixed(2) }} كغ
    </div>
    <div class="item">
      <i class="fa-solid fa-skull-crossbones"></i>
      نسبة الموت:
      {{ ((deadTotal+unsold)/numChicks*100).toFixed(2) }}%
    </div>
  </div>

  <footer>
    Developed by <span>Kaci Mebarek</span>
  </footer>
</div>

<script>
const {createApp}=Vue;

createApp({
  data(){
    return{
      priceChick:null,
      numChicks:null,
      feedPrice:null,
      feedUsed:null,
      sellPrice:null,
      commission:null,
      medicine:null,
      energy:null,
      bedding:null,
      cleaning:null,
      deadTotal:null,
      unsold:null,
      totalWeight:null,
      profit:null,
      backup:null
    }
  },
  methods:{
    formatMoney(v){
      if(v>=100000) return Math.round(v/10000)+' مليون';
      if(v>=1000) return Math.round(v/100)+' ألف';
      if(v>=100) return Math.round(v/10)+' ألف';
      return v;
    },
    calculate(){
      if(!this.backup){
        this.backup={...this.$data,profit:null,backup:null};
      }

      const costs=
        this.priceChick*this.numChicks+
        this.feedPrice*this.feedUsed+
        this.commission*this.totalWeight+
        this.medicine+
        this.energy+
        this.bedding+
        this.cleaning+
        (this.deadTotal+this.unsold)*this.sellPrice;

      const income=this.totalWeight*this.sellPrice;
      this.profit=income-costs;
    },
    whatIf(){
      if(this.backup){
        Object.assign(this.$data,this.backup);
        this.profit=null;
      }
    }
  }
}).mount('#app');
</script>

</body>
</html>
