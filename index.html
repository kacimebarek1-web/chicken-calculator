<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>حاسبة دجاج التسمين</title>
<script src="https://unpkg.com/vue@3/dist/vue.global.prod.js"></script>
<style>
body {
  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
  background: linear-gradient(135deg, #e0f7fa, #e6fffa);
  margin: 0;
  padding: 0;
  direction: rtl;
}
h1 {
  text-align: center;
  font-size: 2em;
  color: #ffffff;
  padding: 20px;
  margin: 0;
  background: linear-gradient(90deg, #2c7a7b, #319795);
  border-bottom-left-radius: 15px;
  border-bottom-right-radius: 15px;
}
.container {
  max-width: 750px;
  margin: 30px auto;
  background: #ffffff;
  padding: 25px 30px;
  border-radius: 20px;
  box-shadow: 0 8px 25px rgba(0,0,0,0.1);
}
.section {
  margin-bottom: 25px;
  padding: 15px 10px;
  background: #f0fdfa;
  border-radius: 15px;
  border-left: 6px solid #2c7a7b;
}
input {
  width: 100%;
  padding: 12px 15px;
  margin: 8px 0;
  border-radius: 12px;
  border: 1px solid #cfd8dc;
  font-size: 15px;
}
button {
  width: 48%;
  padding: 14px;
  margin-top: 10px;
  font-size: 16px;
  font-weight: bold;
  border-radius: 12px;
  border: none;
  cursor: pointer;
  color: #ffffff;
  background: linear-gradient(90deg, #2c7a7b, #319795);
}
button:hover {
  transform: translateY(-2px);
  box-shadow: 0 6px 15px rgba(0,0,0,0.15);
}
#result {
  margin-top: 20px;
  padding: 18px 15px;
  border-radius: 15px;
  font-weight: bold;
  font-size: 18px;
}
.profit { color: green; }
.loss { color: red; }
footer {
  text-align: center;
  margin: 25px 0 0 0;
  font-size: 14px;
  color: #555;
}
footer .owner { font-weight: bold; color: #2c7a7b; }
.buttons-group { display: flex; justify-content: space-between; }
</style>
</head>
<body>
<h1>حاسبة دجاج التسمين</h1>

<div id="app" class="container">
  <div class="section">
    <input type="number" v-model.number="priceChick" placeholder="سعر الكتكوت">
    <input type="number" v-model.number="numChicks" placeholder="عدد الكتكيت">
    <input type="number" v-model.number="feedPrice" placeholder="سعر العلف للقنطار">
    <input type="number" v-model.number="feedUsed" placeholder="كمية العلف المستخدمة (قنطار)">
    <input type="number" v-model.number="sellPrice" placeholder="سعر البيع للكيلو">
    <input type="number" v-model.number="commission" placeholder="هامش التاجر / الوسطاء لكل كيلو">
    <input type="number" v-model.number="medicine" placeholder="سعر الدواء">
    <input type="number" v-model.number="waterEnergy" placeholder="سعر الماء والكهرباء والغاز">
    <input type="number" v-model.number="workers" placeholder="أجور العمال">
    <input type="number" v-model.number="bedding" placeholder="تكلفة الفرشة">
    <input type="number" v-model.number="cleaning" placeholder="تكلفة التنظيف والتعقيم">
    <input type="number" v-model.number="taxes" placeholder="الضرائب أو الرسوم">
    <input type="number" v-model.number="deadLarge" placeholder="عدد الدجاج الميت كبير (2.5-3.5كغ)">
    <input type="number" v-model.number="deadMedium" placeholder="عدد الدجاج الميت متوسط (1-2 كغ)">
    <input type="number" v-model.number="deadSmall" placeholder="عدد الدجاج الميت صغير (<1كغ)">
    <input type="number" v-model.number="unsold" placeholder="عدد الدجاج غير المباع">
    <input type="number" v-model.number="totalWeight" placeholder="الوزن الكلي للدجاج (كغ)">
  </div>

  <div class="buttons-group">
    <button @click="calculate">احسب</button>
    <button @click="reset">ماذا لو؟</button>
  </div>

  <div id="result" :class="profit>=0 ? 'profit' : 'loss'">
    <span v-if="profit!==null">{{ profit >=0 ? 'الربح المتوقع: ' : 'الخسارة المتوقعة: ' }}{{ formatCurrency(profit>=0?profit:-profit) }}</span>
    <p v-if="profit!==null">متوسط وزن الدجاج: {{ averageWeight.toFixed(2) }} كغ</p>
    <p v-if="profit!==null">نسبة الموت: {{ mortalityRate.toFixed(2) }}%</p>
  </div>

  <footer>
    Developed by <span class="owner">Kaci Mebarek</span>
  </footer>
</div>

<script>
const { createApp } = Vue;

createApp({
  data() {
    return {
      priceChick: 0,
      numChicks: 0,
      feedPrice: 0,
      feedUsed: 0,
      sellPrice: 0,
      commission: 0,
      medicine: 0,
      waterEnergy: 0,
      workers: 0,
      bedding: 0,
      cleaning: 0,
      taxes: 0,
      deadLarge: 0,
      deadMedium: 0,
      deadSmall: 0,
      unsold: 0,
      totalWeight: 0,
      profit: null,
      averageWeight: 0,
      mortalityRate: 0
    }
  },
  methods: {
    formatCurrency(value) {
      value = Math.round(value);
      if(value >= 1000000){
        let millions = Math.floor(value/1000000);
        let thousands = Math.floor((value%1000000)/1000);
        return thousands>0 ? `${millions} مليون و ${thousands} ألف` : `${millions} مليون`;
      }
      if(value >= 1000){
        let thousands = Math.floor(value/1000);
        return `${thousands} ألف`;
      }
      return `${value}`;
    },
    calculate() {
      const costChicks = this.priceChick * this.numChicks;
      const costFeed = this.feedPrice * this.feedUsed;
      const costCommission = this.commission * this.totalWeight;
      const costDead = (this.deadLarge*3 + this.deadMedium*1.5 + this.deadSmall*0.5) * this.sellPrice;
      const costUnsold = this.unsold * this.sellPrice;
      const totalCost = costChicks + costFeed + costCommission + this.medicine + this.waterEnergy + this.workers + this.bedding + this.cleaning + this.taxes + costDead + costUnsold;
      const totalIncome = this.sellPrice * this.totalWeight;
      this.profit = totalIncome - totalCost;

      const totalDead = this.deadLarge + this.deadMedium + this.deadSmall + this.unsold;
      this.mortalityRate = (totalDead / this.numChicks) * 100;
      this.averageWeight = this.totalWeight / this.numChicks;
    },
    reset() {
      this.priceChick = 0;
      this.numChicks = 0;
      this.feedPrice = 0;
      this.feedUsed = 0;
      this.sellPrice = 0;
      this.commission = 0;
      this.medicine = 0;
      this.waterEnergy = 0;
      this.workers = 0;
      this.bedding = 0;
      this.cleaning = 0;
      this.taxes = 0;
      this.deadLarge = 0;
      this.deadMedium = 0;
      this.deadSmall = 0;
      this.unsold = 0;
      this.totalWeight = 0;
      this.profit = null;
      this.averageWeight = 0;
      this.mortalityRate = 0;
    }
  }
}).mount('#app');
</script>
</body>
</html>
